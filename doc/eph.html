<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Germán Rosati" />
<meta name="author" content="Diego Koslowski" />
<meta name="author" content="Pablo Tiscornia" />
<meta name="author" content="Guido Weksler" />
<meta name="author" content="Natsumi Shokida" />

<meta name="date" content="2019-11-12" />

<title>Ejemplo de uso del paquete eph</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Ejemplo de uso del paquete <code>eph</code></h1>
<h4 class="author">Germán Rosati</h4>
<h4 class="author">Diego Koslowski</h4>
<h4 class="author">Pablo Tiscornia</h4>
<h4 class="author">Guido Weksler</h4>
<h4 class="author">Natsumi Shokida</h4>
<h4 class="date">2019-11-12</h4>



<p>El paquete <code>eph</code> tiene como objetivo facilitar el trabajo de les usuaries que trabajen con los microdatos de la Encuesta Permanente de Hogares. Este tutorial busca ejemplificar un pipeline de trabajo más o menos típico para mostrar el uso de las funciones del paquete.</p>
<div id="instalación" class="section level2">
<h2>Instalación</h2>
<p>Para instalar la versión estable del paquete usar:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">'eph'</span>)</code></pre></div>
<p>Para la versión en desarrollo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages('devtools') si no tiene instalado devtools</span>

devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;holatam/eph&quot;</span>)</code></pre></div>
</div>
<div id="ejemplo-de-flujo-de-trabajo" class="section level2">
<h2>Ejemplo de flujo de trabajo</h2>
<div id="descarga-de-datos-get_microdata" class="section level3">
<h3>Descarga de datos: <code>get_microdata()</code></h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(eph)
<span class="kw">library</span>(tidyverse)
<span class="co">#&gt; -- Attaching packages ------------------------------------- tidyverse 1.2.1 --</span>
<span class="co">#&gt; v ggplot2 3.1.0     v purrr   0.3.3</span>
<span class="co">#&gt; v tibble  2.1.3     v dplyr   0.8.3</span>
<span class="co">#&gt; v tidyr   1.0.0     v stringr 1.4.0</span>
<span class="co">#&gt; v readr   1.3.1     v forcats 0.4.0</span>
<span class="co">#&gt; -- Conflicts ---------------------------------------- tidyverse_conflicts() --</span>
<span class="co">#&gt; x dplyr::filter() masks stats::filter()</span>
<span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span></code></pre></div>
<p>Obtengamos la base de microdatos de individuos para el tercer trimestre de 2018:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ind_3_<span class="dv">18</span> &lt;-<span class="st"> </span><span class="kw">get_microdata</span>(<span class="dt">year=</span><span class="dv">2018</span>, <span class="dt">trimester=</span><span class="dv">2</span>, <span class="dt">type=</span><span class="st">'individual'</span>)</code></pre></div>
<p>Puede verse que la función requiere tres argumentos básicos:</p>
<ul>
<li><code>year</code>: entero con el año de la encuesta que se desea descargar</li>
<li><code>trimester</code>: entero con el trimestre (este argumento es válido para la EPH continua, 2004-actualidad)</li>
<li><code>type</code>: character <code>&quot;individual&quot;</code>, para descargar la base de invidividuos y <code>&quot;hogar&quot;</code>, para la de hogar.</li>
</ul>
<p>Si se deseara descargar una base de la EPH puntual, será necesario reemplazar el argumento <code>trimester</code> por <code>wave</code> que define la onda de la EPH puntual que se desea descargar. Por ejemplo, si se buscara descargar la base individual de la segunda onda del año 2002, debería escribirse</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ind_2_<span class="dv">02</span> &lt;-<span class="st"> </span><span class="kw">get_microdata</span>(<span class="dt">year=</span><span class="dv">2001</span>, <span class="dt">wave=</span><span class="dv">2</span>, <span class="dt">type=</span><span class="st">'individual'</span>)</code></pre></div>
</div>
<div id="etiquetado-organize_labels" class="section level3">
<h3>Etiquetado: <code>organize_labels()</code></h3>
<p>Es posible etiquetar de forma automática el dataset llamando a la función <code>organize_labels()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ind_3_<span class="dv">18</span> &lt;-<span class="st"> </span><span class="kw">organize_labels</span>(<span class="dt">df=</span>ind_3_<span class="dv">18</span>, <span class="dt">type=</span><span class="st">'individual'</span>)</code></pre></div>
<p>La función toma dos argumentos:</p>
<ul>
<li><code>df</code>: el data.frame que se quiere etiquetar, debe ser producto de <code>get_microdata()</code></li>
<li><code>type</code>: string; cuál es el tipo de datatset que se quiere etiquetar, <code>&quot;individual&quot;</code> o <code>&quot;hogar&quot;</code></li>
</ul>
<p>Descarguemos y etiquetemos la base de hogares del 3 trimestre de 2018. Podemos hacer uso de los <code>%&gt;%</code> pipes de <code>magritte</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hog_3_<span class="dv">18</span> &lt;-<span class="st"> </span><span class="kw">get_microdata</span>(<span class="dt">year=</span><span class="dv">2018</span>, <span class="dt">trimester=</span><span class="dv">3</span>, <span class="dt">type=</span><span class="st">'hogar'</span>) <span class="op">%&gt;%</span>
<span class="st">              </span><span class="kw">organize_labels</span>(., <span class="dt">type=</span><span class="st">'hogar'</span>)</code></pre></div>
</div>
<div id="tabulados-ponderados-calculate_tabulates" class="section level3">
<h3>Tabulados ponderados: <code>calculate_tabulates()</code></h3>
<p>Uno de los problemas habituales en el trabajo con la EPH es la dificultad de los diferentes softwares comerciales para la construcción de tablas de contigencia y/o distribuciones de frecuencia ponderadas. El paquete lo resuelve mediante la función <code>calculate_tabulates()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">calculate_tabulates</span>(<span class="dt">base=</span>ind_3_<span class="dv">18</span>, <span class="dt">x=</span><span class="st">'ESTADO'</span>, <span class="dt">y=</span><span class="st">'CH04'</span>, <span class="dt">weights =</span> <span class="st">'PONDIH'</span>,
                    <span class="dt">add.totals=</span><span class="st">'row'</span>, <span class="dt">add.percentage=</span><span class="st">'col'</span>)
<span class="co">#&gt;                                                                   ESTADO/CH04</span>
<span class="co">#&gt;  Entrevista individual no realizada (no respuesta al cuestionario individual)</span>
<span class="co">#&gt;                                                                       Ocupado</span>
<span class="co">#&gt;                                                                    Desocupado</span>
<span class="co">#&gt;                                                                      Inactivo</span>
<span class="co">#&gt;                                                            Menor de 10 anios.</span>
<span class="co">#&gt;                                                                         Total</span>
<span class="co">#&gt;   Varon  Mujer</span>
<span class="co">#&gt;    0.0%   0.0%</span>
<span class="co">#&gt;   49.0%  35.4%</span>
<span class="co">#&gt;    4.7%   4.3%</span>
<span class="co">#&gt;   30.3%  46.7%</span>
<span class="co">#&gt;   16.0%  13.6%</span>
<span class="co">#&gt;  100.0% 100.0%</span></code></pre></div>
<p>Los argumentos principales de la función son:</p>
<ul>
<li><code>base</code>: un data.frame proveniente de <code>get_microdata()</code></li>
<li><code>x</code>: string con el nombre de la variable a tabular</li>
<li><code>y</code>: otro string (opcional) con el nombre de una segunda variable, para una tabla de doble entrada. Tiene que ser de igual largo que <code>x</code></li>
<li><code>weights</code>: string con el nombre de la variable que contiene los pesos</li>
<li><code>add.totals</code>: agrega valores por <code>row</code>, <code>col</code> o <code>both</code></li>
<li><code>add.percentage</code>: calcula porcentajes por <code>row</code>, <code>col</code> o <code>both</code></li>
</ul>
<p>Así, si quisiéramos la misma tabla sin ponderar:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">calculate_tabulates</span>(<span class="dt">base=</span>ind_3_<span class="dv">18</span>, <span class="dt">x=</span><span class="st">'ESTADO'</span>, <span class="dt">y=</span><span class="st">'CH04'</span>,
                    <span class="dt">add.totals=</span><span class="st">'row'</span>, <span class="dt">add.percentage=</span><span class="st">'col'</span>)
<span class="co">#&gt;                                                                   ESTADO/CH04</span>
<span class="co">#&gt;  Entrevista individual no realizada (no respuesta al cuestionario individual)</span>
<span class="co">#&gt;                                                                       Ocupado</span>
<span class="co">#&gt;                                                                    Desocupado</span>
<span class="co">#&gt;                                                                      Inactivo</span>
<span class="co">#&gt;                                                            Menor de 10 anios.</span>
<span class="co">#&gt;                                                                         Total</span>
<span class="co">#&gt;   Varon  Mujer</span>
<span class="co">#&gt;    0.1%   0.1%</span>
<span class="co">#&gt;   48.5%  34.0%</span>
<span class="co">#&gt;    3.6%   3.3%</span>
<span class="co">#&gt;   32.0%  48.8%</span>
<span class="co">#&gt;   15.9%  13.8%</span>
<span class="co">#&gt;  100.0% 100.0%</span></code></pre></div>
</div>
<div id="armando-pools-de-datos-organize_panels" class="section level3">
<h3>Armando pools de datos: <code>organize_panels()</code></h3>
<p>Otra práctica común y necesaria en el trabajo con microdatos de la EPH es la generación de paneles de datos, es decir, el seguimiento de los registros a lo largo de las diferentes bases de la encuesta. Esto puede generarse en <code>eph</code> con la función <code>organize_panels()</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bases &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">i_2018_1=</span><span class="kw">get_microdata</span>(<span class="dt">year=</span><span class="dv">2018</span>, <span class="dt">trimester=</span><span class="dv">1</span>, <span class="dt">type=</span><span class="st">'individual'</span>),
              <span class="dt">i_2018_2=</span><span class="kw">get_microdata</span>(<span class="dt">year=</span><span class="dv">2018</span>, <span class="dt">trimester=</span><span class="dv">2</span>, <span class="dt">type=</span><span class="st">'individual'</span>),
              <span class="dt">i_2018_3=</span><span class="kw">get_microdata</span>(<span class="dt">year=</span><span class="dv">2018</span>, <span class="dt">trimester=</span><span class="dv">3</span>, <span class="dt">type=</span><span class="st">'individual'</span>),
              <span class="dt">i_2018_4=</span><span class="kw">get_microdata</span>(<span class="dt">year=</span><span class="dv">2018</span>, <span class="dt">trimester=</span><span class="dv">4</span>, <span class="dt">type=</span><span class="st">'individual'</span>)
)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pool &lt;-<span class="st"> </span><span class="kw">organize_panels</span>(<span class="dt">bases=</span>bases, <span class="dt">variables=</span><span class="kw">c</span>(<span class="st">'ESTADO'</span>),
                        <span class="dt">window=</span><span class="st">'anual'</span>)
<span class="co">#&gt; Warning in bind_rows_(x, .id): Unequal factor levels: coercing to character</span>
<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>

<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>
<span class="co">#&gt; Warning in bind_rows_(x, .id): Unequal factor levels: coercing to character</span>
<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>

<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>
<span class="co">#&gt; Warning in bind_rows_(x, .id): Unequal factor levels: coercing to character</span>
<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>

<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>
<span class="co">#&gt; Warning in bind_rows_(x, .id): Unequal factor levels: coercing to character</span>
<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>

<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>

<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>

<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>

<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>

<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>

<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>

<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>

<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>

<span class="co">#&gt; Warning in bind_rows_(x, .id): binding character and factor vector,</span>
<span class="co">#&gt; coercing into character vector</span>
<span class="co">#&gt; Joining, by = c(&quot;CODUSU&quot;, &quot;NRO_HOGAR&quot;, &quot;COMPONENTE&quot;, &quot;Id_Trimestre&quot;)</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pool
<span class="co">#&gt; # A tibble: 0 x 17</span>
<span class="co">#&gt; # ... with 17 variables: CODUSU &lt;chr&gt;, NRO_HOGAR &lt;int&gt;, COMPONENTE &lt;int&gt;,</span>
<span class="co">#&gt; #   ANO4 &lt;int&gt;, TRIMESTRE &lt;int&gt;, CH04 &lt;int&gt;, CH06 &lt;int&gt;, ESTADO &lt;int&gt;,</span>
<span class="co">#&gt; #   Trimestre &lt;chr&gt;, Id_Trimestre &lt;dbl&gt;, ANO4_t1 &lt;int&gt;,</span>
<span class="co">#&gt; #   TRIMESTRE_t1 &lt;int&gt;, CH04_t1 &lt;int&gt;, CH06_t1 &lt;int&gt;, ESTADO_t1 &lt;int&gt;,</span>
<span class="co">#&gt; #   Trimestre_t1 &lt;chr&gt;, consistencia &lt;lgl&gt;</span></code></pre></div>
<p>La función nos devuelve un data.frame en el cual cada fila es un registro y se agregan variables en formato <code>long</code> de las variables de interés. Lo que hace detrás de bambalinas es concatenar todas las bases espeficadas en el argumento <code>list=</code> y hacer un join, extrayendo aquellos registros que aparecen medidos en las diferentes bases. La columna <code>consistencia</code> evalúa si en cada observación cambia el sexo o la edad de la persona durante en las dos ondas previas o posteriores.</p>
<p>Es sencillo formatear este dataset en formato <code>tidy</code>:</p>
<p>CHEQUEAR ESTO….</p>
</div>
<div id="generando-una-serie-de-asalariazación" class="section level3">
<h3>Generando una serie de asalariazación</h3>
<p>Veamos ahora un ejemplo un poco más complejo. Queremos generar una serie completa acerca del peso de los TCP sobre los ocupados. Para ello, tenemos que iterar sobre los años y trimestres que querramos incluir en el cálculo y, para cada año-trimestre calcular la razón ponderada de los TPC sobre total de ocupados:</p>
<p><span class="math inline">\(SO_{t} = \frac{\sum_{i=1}^n w_{i}TCP_{i}}{\sum_{i=1}^n w_{i}OCUP_{i}}\)</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">year &lt;-<span class="st"> </span><span class="dv">2004</span><span class="op">:</span><span class="dv">2018</span>
trimester &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span>
wave&lt;-<span class="ot">NA</span>
type&lt;-<span class="st">'individual'</span>

df &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(<span class="kw">expand.grid</span>(year, trimester, wave, type))
<span class="kw">colnames</span>(df)&lt;-<span class="kw">c</span>(<span class="st">'year'</span>,<span class="st">'trimester'</span>,<span class="st">'wave'</span>, <span class="st">'type'</span>)

get_data &lt;-<span class="st"> </span><span class="cf">function</span>(year, trimester, <span class="dt">wave=</span><span class="ot">NA</span>, type){
  indicator&lt;-<span class="kw">list</span>()  
  d &lt;-<span class="st"> </span><span class="kw">get_microdata</span>(<span class="dt">year=</span>year, 
                     <span class="dt">trimester=</span>trimester, 
                     <span class="dt">type=</span>type, 
                     <span class="dt">wave=</span>wave)

  indicator<span class="op">$</span>year&lt;-year
  indicator<span class="op">$</span>trimester&lt;-trimester

  <span class="cf">if</span> (<span class="kw">nrow</span>(d) <span class="op">==</span><span class="st"> </span><span class="dv">0</span>){ 
    indicator<span class="op">$</span>indic&lt;-<span class="ot">NA</span>
  }
                
  <span class="cf">if</span> (year<span class="op">==</span><span class="dv">2007</span> <span class="op">&amp;</span><span class="st"> </span>(trimester <span class="op">==</span><span class="dv">2</span> <span class="op">|</span><span class="st"> </span>trimester <span class="op">==</span><span class="st"> </span><span class="dv">4</span>)) {
    indicator<span class="op">$</span>ind&lt;-<span class="kw">sum</span>(d[d<span class="op">$</span>cat_ocup<span class="op">==</span><span class="dv">2</span>,]<span class="op">$</span>pondera, <span class="dt">na.rm=</span><span class="ot">TRUE</span>) <span class="op">/</span><span class="kw">sum</span>(d[d<span class="op">$</span>estado<span class="op">==</span><span class="dv">1</span>,]<span class="op">$</span>pondera, <span class="dt">na.rm=</span><span class="ot">TRUE</span>)
  }
                
  <span class="cf">else</span> {
    indicator<span class="op">$</span>ind&lt;-<span class="kw">sum</span>(d[d<span class="op">$</span>CAT_OCUP<span class="op">==</span><span class="dv">2</span>,]<span class="op">$</span>PONDERA, <span class="dt">na.rm=</span><span class="ot">TRUE</span>) <span class="op">/</span><span class="kw">sum</span>(d[d<span class="op">$</span>ESTADO<span class="op">==</span><span class="dv">1</span>,]<span class="op">$</span>PONDERA, <span class="dt">na.rm=</span><span class="ot">TRUE</span>)
  }
  <span class="kw">return</span>(indicator)
}

df &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span>
<span class="st">    </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">microdata=</span>
      purrr<span class="op">::</span><span class="kw">pmap</span>(<span class="kw">list</span>(<span class="st">'year'</span> =<span class="st"> </span>year,
                       <span class="st">'trimester'</span> =<span class="st"> </span>trimester,
                       <span class="st">'wave'</span> =<span class="st"> </span>wave,
                       <span class="st">'type'</span> =<span class="st"> </span>type),
                  <span class="dt">.f =</span> get_data) 
                  )</code></pre></div>
<p>Esto nos devuelve una tibble que contiene los indicadores de año, trimestre y tipo de dataset. A su vez, el campo <code>microdata</code> contiene nuestros indicadores. Solamente, tenemos que iterar sobre cada fila con <code>map()</code> y pegarlos uno debajo de otro con <code>bind_rows()</code>. Luego, emprolijamos un poco el dataset y lo ploteamos.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(microdata) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">map_df</span>(.,bind_rows) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>indic) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">date=</span>lubridate<span class="op">::</span><span class="kw">parse_date_time</span>(<span class="kw">paste</span>(year, trimester,<span class="dt">sep=</span><span class="st">'-'</span>), <span class="st">'%y%q'</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x=</span>date,<span class="dt">y=</span>ind), <span class="dt">color=</span><span class="st">'blue'</span>) <span class="op">+</span>
<span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="fl">0.3</span>)) <span class="op">+</span>
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">y=</span><span class="st">'% TCP sobre ocupados'</span>)</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="la-yapa-cálculo-de-pobreza" class="section level3">
<h3>La yapa: cálculo de pobreza:</h3>
<p>Un objetivo del paquete <code>eph</code>, es lograr automatizar el cálculo de pobreza e indigencia del INDEC para las bases trimestrales<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>. El gran problema es que no existe información publicada fuera de los informes de prensa en formato pdf sobre los valores de las canastas básicas y alimentarias.</p>
<p>No obstante, hemos desarrollado dos funciones que, de encontrarse disponibles dichos datos, podrían calcular de forma automática los valores de pobreza e indigencia. Mostraremos un ejemplo de juguete con dos datasets de la CABA y sus respectivos valores de canastas.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bases &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">bind_rows</span>(toybase_individual_2016_<span class="dv">03</span>,toybase_individual_2016_<span class="dv">04</span>)</code></pre></div>
<p>Existen dos funciones núcleo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lineas &lt;-<span class="st"> </span><span class="kw">get_poverty_lines</span>()
lineas <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()
<span class="co">#&gt; # A tibble: 6 x 4</span>
<span class="co">#&gt;   periodo               CBA   ICE   CBT</span>
<span class="co">#&gt;   &lt;dttm&gt;              &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 2016-04-01 00:00:00 1515.  2.42 3664.</span>
<span class="co">#&gt; 2 2016-05-01 00:00:00 1561.  2.45 3831.</span>
<span class="co">#&gt; 3 2016-06-01 00:00:00 1614.  2.44 3943.</span>
<span class="co">#&gt; 4 2016-07-01 00:00:00 1666.  2.42 4034.</span>
<span class="co">#&gt; 5 2016-08-01 00:00:00 1675.  2.41 4042.</span>
<span class="co">#&gt; 6 2016-09-01 00:00:00 1711.  2.39 4090.</span></code></pre></div>
<p>Esta función descarga los valores de las canastas alimentaria, básica (CBA y CBT) y la inversa del coeficiente de Engels… perdón, Engel (ICE) de <a href="https://www.indec.gob.ar/indec/web/Nivel4-Tema-4-43-149">la serie provista por INDEC</a>. Esta es la serie para GBA, y es la que publica regularmente INDEC.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lineas <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>ICE) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">gather</span>(canasta, valor, <span class="op">-</span>periodo) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span>
<span class="st">    </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x=</span>periodo, <span class="dt">y=</span>valor, <span class="dt">col=</span>canasta))</code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Para el calculo de la Pobreza e Indigence se utilizan canastas regionales, que sólo aparecen en los <a href="https://www.indec.gob.ar/uploads/informesdeprensa/eph_pobreza_01_19422F5FC20A.pdf">informes Técnicos</a>.</p>
<p>A modo de ejemplo, en la librería <code>eph</code> se encuentra la base <code>canastas_reg_example</code> con la información necesaria para realizar el cálculo</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">canastas_reg_example
<span class="co">#&gt; # A tibble: 12 x 5</span>
<span class="co">#&gt;    region    periodo   CBA   CBT codigo</span>
<span class="co">#&gt;    &lt;chr&gt;     &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Cuyo      2016.3  1509. 3872.     42</span>
<span class="co">#&gt;  2 Cuyo      2016.4  1570. 4030.     42</span>
<span class="co">#&gt;  3 GBA       2016.3  1684. 4053.      1</span>
<span class="co">#&gt;  4 GBA       2016.4  1756. 4232.      1</span>
<span class="co">#&gt;  5 Noreste   2016.3  1513. 3414.     41</span>
<span class="co">#&gt;  6 Noreste   2016.4  1568. 3539.     41</span>
<span class="co">#&gt;  7 Noroeste  2016.3  1472. 3292.     40</span>
<span class="co">#&gt;  8 Noroeste  2016.4  1525. 3412.     40</span>
<span class="co">#&gt;  9 Pampeana  2016.3  1676. 4034.     43</span>
<span class="co">#&gt; 10 Pampeana  2016.4  1746. 4209.     43</span>
<span class="co">#&gt; 11 Patagonia 2016.3  1735. 4742.     44</span>
<span class="co">#&gt; 12 Patagonia 2016.4  1813. 4963.     44</span></code></pre></div>
<p>A su vez, también se encuentra la tabla de <code>adulto_equivalente</code> que permite construir la cantidad de adultos equivalentes a nivel hogar, para multiplicar al mismo por la canasta regional correspondiente, a fin de definir la línea a nivel hogar.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">adulto_equivalente
<span class="co">#&gt;     CH04 CH06 adequi</span>
<span class="co">#&gt; 1      1   -1   0.35</span>
<span class="co">#&gt; 2      1    1   0.37</span>
<span class="co">#&gt; 3      1    2   0.46</span>
<span class="co">#&gt; 4      1    3   0.51</span>
<span class="co">#&gt; 5      1    4   0.55</span>
<span class="co">#&gt; 6      1    5   0.60</span>
<span class="co">#&gt; 7      1    6   0.64</span>
<span class="co">#&gt; 8      1    7   0.66</span>
<span class="co">#&gt; 9      1    8   0.68</span>
<span class="co">#&gt; 10     1    9   0.69</span>
<span class="co">#&gt; 11     2   -1   0.35</span>
<span class="co">#&gt; 12     2    1   0.37</span>
<span class="co">#&gt; 13     2    2   0.46</span>
<span class="co">#&gt; 14     2    3   0.51</span>
<span class="co">#&gt; 15     2    4   0.55</span>
<span class="co">#&gt; 16     2    5   0.60</span>
<span class="co">#&gt; 17     2    6   0.64</span>
<span class="co">#&gt; 18     2    7   0.66</span>
<span class="co">#&gt; 19     2    8   0.68</span>
<span class="co">#&gt; 20     2    9   0.69</span>
<span class="co">#&gt; 21     1   10   0.79</span>
<span class="co">#&gt; 22     1   11   0.82</span>
<span class="co">#&gt; 23     1   12   0.85</span>
<span class="co">#&gt; 24     1   13   0.90</span>
<span class="co">#&gt; 25     1   14   0.96</span>
<span class="co">#&gt; 26     1   15   1.00</span>
<span class="co">#&gt; 27     1   16   1.03</span>
<span class="co">#&gt; 28     1   17   1.04</span>
<span class="co">#&gt; 29     2   10   0.70</span>
<span class="co">#&gt; 30     2   11   0.72</span>
<span class="co">#&gt; 31     2   12   0.74</span>
<span class="co">#&gt; 32     2   13   0.76</span>
<span class="co">#&gt; 33     2   14   0.76</span>
<span class="co">#&gt; 34     2   15   0.77</span>
<span class="co">#&gt; 35     2   16   0.77</span>
<span class="co">#&gt; 36     2   17   0.77</span>
<span class="co">#&gt; 37     1   18   1.02</span>
<span class="co">#&gt; 38     1   19   1.02</span>
<span class="co">#&gt; 39     1   20   1.02</span>
<span class="co">#&gt; 40     1   21   1.02</span>
<span class="co">#&gt; 41     1   22   1.02</span>
<span class="co">#&gt; 42     1   23   1.02</span>
<span class="co">#&gt; 43     1   24   1.02</span>
<span class="co">#&gt; 44     1   25   1.02</span>
<span class="co">#&gt; 45     1   26   1.02</span>
<span class="co">#&gt; 46     1   27   1.02</span>
<span class="co">#&gt; 47     1   28   1.02</span>
<span class="co">#&gt; 48     1   29   1.02</span>
<span class="co">#&gt; 49     1   30   1.00</span>
<span class="co">#&gt; 50     1   31   1.00</span>
<span class="co">#&gt; 51     1   32   1.00</span>
<span class="co">#&gt; 52     1   33   1.00</span>
<span class="co">#&gt; 53     1   34   1.00</span>
<span class="co">#&gt; 54     1   35   1.00</span>
<span class="co">#&gt; 55     1   36   1.00</span>
<span class="co">#&gt; 56     1   37   1.00</span>
<span class="co">#&gt; 57     1   38   1.00</span>
<span class="co">#&gt; 58     1   39   1.00</span>
<span class="co">#&gt; 59     1   40   1.00</span>
<span class="co">#&gt; 60     1   41   1.00</span>
<span class="co">#&gt; 61     1   42   1.00</span>
<span class="co">#&gt; 62     1   43   1.00</span>
<span class="co">#&gt; 63     1   44   1.00</span>
<span class="co">#&gt; 64     1   45   1.00</span>
<span class="co">#&gt; 65     1   46   1.00</span>
<span class="co">#&gt; 66     1   47   1.00</span>
<span class="co">#&gt; 67     1   48   1.00</span>
<span class="co">#&gt; 68     1   49   1.00</span>
<span class="co">#&gt; 69     1   50   1.00</span>
<span class="co">#&gt; 70     1   51   1.00</span>
<span class="co">#&gt; 71     1   52   1.00</span>
<span class="co">#&gt; 72     1   53   1.00</span>
<span class="co">#&gt; 73     1   54   1.00</span>
<span class="co">#&gt; 74     1   55   1.00</span>
<span class="co">#&gt; 75     1   56   1.00</span>
<span class="co">#&gt; 76     1   57   1.00</span>
<span class="co">#&gt; 77     1   58   1.00</span>
<span class="co">#&gt; 78     1   59   1.00</span>
<span class="co">#&gt; 79     1   60   1.00</span>
<span class="co">#&gt; 80     1   61   0.83</span>
<span class="co">#&gt; 81     1   62   0.83</span>
<span class="co">#&gt; 82     1   63   0.83</span>
<span class="co">#&gt; 83     1   64   0.83</span>
<span class="co">#&gt; 84     1   65   0.83</span>
<span class="co">#&gt; 85     1   66   0.83</span>
<span class="co">#&gt; 86     1   67   0.83</span>
<span class="co">#&gt; 87     1   68   0.83</span>
<span class="co">#&gt; 88     1   69   0.83</span>
<span class="co">#&gt; 89     1   70   0.83</span>
<span class="co">#&gt; 90     1   71   0.83</span>
<span class="co">#&gt; 91     1   72   0.83</span>
<span class="co">#&gt; 92     1   73   0.83</span>
<span class="co">#&gt; 93     1   74   0.83</span>
<span class="co">#&gt; 94     1   75   0.83</span>
<span class="co">#&gt; 95     2   18   0.76</span>
<span class="co">#&gt; 96     2   19   0.76</span>
<span class="co">#&gt; 97     2   20   0.76</span>
<span class="co">#&gt; 98     2   21   0.76</span>
<span class="co">#&gt; 99     2   22   0.76</span>
<span class="co">#&gt; 100    2   23   0.76</span>
<span class="co">#&gt; 101    2   24   0.76</span>
<span class="co">#&gt; 102    2   25   0.76</span>
<span class="co">#&gt; 103    2   26   0.76</span>
<span class="co">#&gt; 104    2   27   0.76</span>
<span class="co">#&gt; 105    2   28   0.76</span>
<span class="co">#&gt; 106    2   29   0.76</span>
<span class="co">#&gt; 107    2   30   0.77</span>
<span class="co">#&gt; 108    2   31   0.77</span>
<span class="co">#&gt; 109    2   32   0.77</span>
<span class="co">#&gt; 110    2   33   0.77</span>
<span class="co">#&gt; 111    2   34   0.77</span>
<span class="co">#&gt; 112    2   35   0.77</span>
<span class="co">#&gt; 113    2   36   0.77</span>
<span class="co">#&gt; 114    2   37   0.77</span>
<span class="co">#&gt; 115    2   38   0.77</span>
<span class="co">#&gt; 116    2   39   0.77</span>
<span class="co">#&gt; 117    2   40   0.77</span>
<span class="co">#&gt; 118    2   41   0.77</span>
<span class="co">#&gt; 119    2   42   0.77</span>
<span class="co">#&gt; 120    2   43   0.77</span>
<span class="co">#&gt; 121    2   44   0.77</span>
<span class="co">#&gt; 122    2   45   0.77</span>
<span class="co">#&gt; 123    2   46   0.76</span>
<span class="co">#&gt; 124    2   47   0.76</span>
<span class="co">#&gt; 125    2   48   0.76</span>
<span class="co">#&gt; 126    2   49   0.76</span>
<span class="co">#&gt; 127    2   50   0.76</span>
<span class="co">#&gt; 128    2   51   0.76</span>
<span class="co">#&gt; 129    2   52   0.76</span>
<span class="co">#&gt; 130    2   53   0.76</span>
<span class="co">#&gt; 131    2   54   0.76</span>
<span class="co">#&gt; 132    2   55   0.76</span>
<span class="co">#&gt; 133    2   56   0.76</span>
<span class="co">#&gt; 134    2   57   0.76</span>
<span class="co">#&gt; 135    2   58   0.76</span>
<span class="co">#&gt; 136    2   59   0.76</span>
<span class="co">#&gt; 137    2   60   0.76</span>
<span class="co">#&gt; 138    2   61   0.67</span>
<span class="co">#&gt; 139    2   62   0.67</span>
<span class="co">#&gt; 140    2   63   0.67</span>
<span class="co">#&gt; 141    2   64   0.67</span>
<span class="co">#&gt; 142    2   65   0.67</span>
<span class="co">#&gt; 143    2   66   0.67</span>
<span class="co">#&gt; 144    2   67   0.67</span>
<span class="co">#&gt; 145    2   68   0.67</span>
<span class="co">#&gt; 146    2   69   0.67</span>
<span class="co">#&gt; 147    2   70   0.67</span>
<span class="co">#&gt; 148    2   71   0.67</span>
<span class="co">#&gt; 149    2   72   0.67</span>
<span class="co">#&gt; 150    2   73   0.67</span>
<span class="co">#&gt; 151    2   74   0.67</span>
<span class="co">#&gt; 152    2   75   0.67</span>
<span class="co">#&gt; 153    2   76   0.63</span>
<span class="co">#&gt; 154    2   77   0.63</span>
<span class="co">#&gt; 155    2   78   0.63</span>
<span class="co">#&gt; 156    2   79   0.63</span>
<span class="co">#&gt; 157    2   80   0.63</span>
<span class="co">#&gt; 158    2   81   0.63</span>
<span class="co">#&gt; 159    2   82   0.63</span>
<span class="co">#&gt; 160    2   83   0.63</span>
<span class="co">#&gt; 161    2   84   0.63</span>
<span class="co">#&gt; 162    2   85   0.63</span>
<span class="co">#&gt; 163    2   86   0.63</span>
<span class="co">#&gt; 164    2   87   0.63</span>
<span class="co">#&gt; 165    2   88   0.63</span>
<span class="co">#&gt; 166    2   89   0.63</span>
<span class="co">#&gt; 167    2   90   0.63</span>
<span class="co">#&gt; 168    2   91   0.63</span>
<span class="co">#&gt; 169    2   92   0.63</span>
<span class="co">#&gt; 170    2   93   0.63</span>
<span class="co">#&gt; 171    2   94   0.63</span>
<span class="co">#&gt; 172    2   95   0.63</span>
<span class="co">#&gt; 173    2   96   0.63</span>
<span class="co">#&gt; 174    2   97   0.63</span>
<span class="co">#&gt; 175    2   98   0.63</span>
<span class="co">#&gt; 176    2   99   0.63</span>
<span class="co">#&gt; 177    2  100   0.63</span>
<span class="co">#&gt; 178    2  101   0.63</span>
<span class="co">#&gt; 179    2  102   0.63</span>
<span class="co">#&gt; 180    2  103   0.63</span>
<span class="co">#&gt; 181    2  104   0.63</span>
<span class="co">#&gt; 182    2  105   0.63</span>
<span class="co">#&gt; 183    2  106   0.63</span>
<span class="co">#&gt; 184    2  107   0.63</span>
<span class="co">#&gt; 185    2  108   0.63</span>
<span class="co">#&gt; 186    2  109   0.63</span>
<span class="co">#&gt; 187    2  110   0.63</span>
<span class="co">#&gt; 188    1   76   0.74</span>
<span class="co">#&gt; 189    1   77   0.74</span>
<span class="co">#&gt; 190    1   78   0.74</span>
<span class="co">#&gt; 191    1   79   0.74</span>
<span class="co">#&gt; 192    1   80   0.74</span>
<span class="co">#&gt; 193    1   81   0.74</span>
<span class="co">#&gt; 194    1   82   0.74</span>
<span class="co">#&gt; 195    1   83   0.74</span>
<span class="co">#&gt; 196    1   84   0.74</span>
<span class="co">#&gt; 197    1   85   0.74</span>
<span class="co">#&gt; 198    1   86   0.74</span>
<span class="co">#&gt; 199    1   87   0.74</span>
<span class="co">#&gt; 200    1   88   0.74</span>
<span class="co">#&gt; 201    1   89   0.74</span>
<span class="co">#&gt; 202    1   90   0.74</span>
<span class="co">#&gt; 203    1   91   0.74</span>
<span class="co">#&gt; 204    1   92   0.74</span>
<span class="co">#&gt; 205    1   93   0.74</span>
<span class="co">#&gt; 206    1   94   0.74</span>
<span class="co">#&gt; 207    1   95   0.74</span>
<span class="co">#&gt; 208    1   96   0.74</span>
<span class="co">#&gt; 209    1   97   0.74</span>
<span class="co">#&gt; 210    1   98   0.74</span>
<span class="co">#&gt; 211    1   99   0.74</span>
<span class="co">#&gt; 212    1  100   0.74</span>
<span class="co">#&gt; 213    1  101   0.74</span>
<span class="co">#&gt; 214    1  102   0.74</span>
<span class="co">#&gt; 215    1  103   0.74</span>
<span class="co">#&gt; 216    1  104   0.74</span>
<span class="co">#&gt; 217    1  105   0.74</span>
<span class="co">#&gt; 218    1  106   0.74</span>
<span class="co">#&gt; 219    1  107   0.74</span>
<span class="co">#&gt; 220    1  108   0.74</span>
<span class="co">#&gt; 221    1  109   0.74</span>
<span class="co">#&gt; 222    1  110   0.74</span></code></pre></div>
<p>La función <code>calculate_poverty</code> calcula la pertenencia a situaciones de pobreza e indigencia a nivel de los individuos siguiendo la metodología de línea:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
bases &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">bind_rows</span>(toybase_individual_2016_<span class="dv">03</span>,toybase_individual_2016_<span class="dv">04</span>)
base_pobreza &lt;-<span class="st"> </span><span class="kw">calculate_poverty</span>(<span class="dt">base =</span> bases, <span class="dt">basket =</span> canastas_reg_example,<span class="dt">print_summary=</span><span class="ot">TRUE</span>)
<span class="co">#&gt; # A tibble: 2 x 4</span>
<span class="co">#&gt; # Groups:   ANO4 [1]</span>
<span class="co">#&gt;    ANO4 TRIMESTRE Tasa_pobreza Tasa_indigencia</span>
<span class="co">#&gt;   &lt;int&gt;     &lt;int&gt;        &lt;dbl&gt;           &lt;dbl&gt;</span>
<span class="co">#&gt; 1  2016         3       0.0296          0.0136</span>
<span class="co">#&gt; 2  2016         4       0.0324          0.0122</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">base_pobreza <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(CODUSU,ITF,region,adequi_hogar,CBA_hogar,CBT_hogar,situacion) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sample_n</span>(<span class="dv">10</span>)
<span class="co">#&gt; # A tibble: 10 x 7</span>
<span class="co">#&gt;    CODUSU             ITF region adequi_hogar CBA_hogar CBT_hogar situacion</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;int&gt; &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;    </span>
<span class="co">#&gt;  1 TQRMNORVSHMKKRC~ 18000 Noroe~         0.76     1159.     2593. no_pobre </span>
<span class="co">#&gt;  2 TQRMNOPSXHLMKTC~ 31500 Pampe~         0.67     1123.     2703. no_pobre </span>
<span class="co">#&gt;  3 TQRMNOQUTHMOKOC~ 15000 Nores~         1        1568.     3539. no_pobre </span>
<span class="co">#&gt;  4 TQRMNORRQHLMKOC~     0 Pampe~         0.63     1056.     2541. NA       </span>
<span class="co">#&gt;  5 TQRMNORTYHMOMLC~     0 Pampe~         0.37      646.     1557. NA       </span>
<span class="co">#&gt;  6 TQRMNOQQUHJOKQC~ 13300 Cuyo           1.02     1602.     4111. no_pobre </span>
<span class="co">#&gt;  7 TQRMNOPWYHJOLPC~  8900 Noroe~         1.02     1556.     3480. no_pobre </span>
<span class="co">#&gt;  8 TQRMNOQWQHKOLQC~ 15500 Nores~         1        1513.     3414. no_pobre </span>
<span class="co">#&gt;  9 TQRMNOUWSHMKKRC~ 13900 Noroe~         0.77     1175.     2627. no_pobre </span>
<span class="co">#&gt; 10 TQRMNOQPSHKMKPC~ 11000 Pampe~         0.76     1327.     3199. no_pobre</span></code></pre></div>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>El calculo oficial se realiza sobre bases semestrales no publicadas<a href="#fnref1">↩</a></p></li>
</ol>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
